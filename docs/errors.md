# Σφάλματα και Καταγραφή

- [Περιγραφή Σφάλματος](#error-detail)
- [Χειρισμός Σφαλμάτων](#handling-errors)
- [Εξαιρέσεις HTTP](#http-exceptions)
- [Χειρισμός Σφαλμάτων 404](#handling-404-errors)
- [Καταγραφή](#logging)

<a name="error-detail"></a>
## Περιγραφή Σφάλματος

Από προεπιλογή, η περιγραφή σφαλμάτων είναι ενεργοποιημένη για την εφαρμογή σας. Αυτό σημαίνει οτι όταν συμβαίνει ένα σφάλμα, θα σας εμφανιστεί στην οθόνη σας μια σελίδα σφάλματος με μια λεπτομερή περιγραφή των βημάτων κατά την εκτέλεση και ένα μήνυμα σφάλματος. Μπορείτε να απενεργοποιήσετε την περιγραφή σφαλμάτων θέτοντας την επιλογή `debug` στο αρχείο `app/config/app.php` στην τιμή `false`.

> **Σημείωση:** Συνιστάται να απενεργοποιείτε την περιγραφή σφαλμάτων σε περιβάλλον παραγωγής.

<a name="handling-errors"></a>
## Χειρισμός Σφαλμάτων

Από προεπιλογή, το αρχείο `app/start/global.php` περιέχει έναν χειριστή σφαλμάτων για κάθε είδους εξαίρεση :

	App::error(function(Exception $exception)
	{
		Log::error($exception);
	});

Αυτός είναι ο πιο βασικός χειριστής σφαλμάτων. Ωστόσο, μπορείτε να καθορίσετε επιπλέον χειριστές αν χρειαστεί. Οι χειριστές καλούνται με βάση τον τύπο της εξαίρεσης την οποία χειρίζονται. Για παράδειγμα, μπορείτε να δημιουργήσετε έναν χειριστή ο οποίος χειρίζεται μόνο `RuntimeException` στιγμιότυπα:

	App::error(function(RuntimeException $exception)
	{
		// Handle the exception...
	});

Αν ένας χειριστής σφαλμάτων επιστρέψει μια απόκριση, αυτή θα σταλεί στο φιλομετρητή και δε θα κληθούν άλλοι χειριστές σφαλμάτων: 

	App::error(function(InvalidUserException $exception)
	{
		Log::error($exception);

		return 'Sorry! Something is wrong with this account!';
	});

Για να 'ακούσετε' μοιραία(fatal) PHP σφάλματα, μπορείτε να χρησιμοποιήσετε τη μέθοδο `App::fatal`:

	App::fatal(function($exception)
	{
		//
	});

Αν έχετε διάφορους χειριστές σφαλμάτων, αυτοί θα πρέπει να οριστούν από τον πιο γενικό προς στον πιο ειδικό. Έτσι, για παράδειγμα, ένας χειριστής σφαλμάτων που χειρίζεται εξαιρέσεις τύπου `Exception` θα πρέπει να δηλωθεί πριν από έναν προσαρμοσμένο τύπο εξαίρεσης όπως ο `Illuminate\Encryption\DecryptException`.

### Που να τοποθετήσετε τους Χειριστές Σφαλμάτων

Δεν υπάρχει το σωστό "home" για την εγγραφή χειριστών σφαλμάτων. Το Laravel προσφέρει ελευθερία σε αυτόν τον τομέα. Μια επιλογή είναι να ορίσετε χειριστές στο αρχείο `start/global.php`. Γενικά, είναι μια βολική τοποθεσία για να τοποθετήσετε οποιοδήποτε κώδικα "εκκίνησης". Αν αυτό το αρχείο αρχίσει να γίνεται μεγάλο, μπορείτε να δημιουργήσετε ένα αρχείο `app/errors.php`, και να περιλάβετε (`require`) αυτό το αρχείο απο το `start/global.php` αρχείο. Μια τρίτη επιλογή είνα να δημιουργήσετε έναν πάροχο υπηρεσιών [service provider](/docs/ioc#service-providers) ο οποίος θα είναι υπεύθυνος για την εγγραφή των χειριστών σφαλμάτων. Δεν υπάρχει μόνο μια  "σωστή" λύση. Επιλέξτε μια τοποθεσία με την οποία είστε πιο εξοικειωμένοι.

<a name="http-exceptions"></a>
## Εξαιρέσεις HTTP 

Κάποιες εξαιρέσεις περιγράφουν HTTP σφάλματα που προέρχονται από το server. Για παράδειγμα, αυτό θα μπορούσε να είναι ένα "page not found" σφάλμα (404), ένα "unauthorized" σφάλμα (401)  ή ακόμα ένα σφάλμα που προκλήθηκε από τον προγραμματιστή (500). Προκειμένου να επιστρέψετε μια τέτοια τέτοια απόκριση χρησιμοποιήστε το παρακάτω:

	App::abort(404);

Προαιρετικά θα μπορούσατε να παρέχετε και μια απόκριση:

	App::abort(403, 'Unauthorized action.');

Αυτή η μέθοδος μπορεί να χρησιμοποιηθεί σε οποιαδήποτε στιγμή κατα τη διάρκεια του κύκλου ζωής του HTTP αιτήματος.

<a name="handling-404-errors"></a>
## Χειρισμός Σφαλμάτων 404

Μπορείτε να εγγράψετε έναν χειριστή σφαλμάτων ο οποίος χειρίζεται όλα τα "404 Not Found" σφάλματα της εφαρμογής σας, επιτρέποντας σας να επιστρέφετε εύκολα προσαρμοσμένες σελίδες 404 σφαλμάτων:

	App::missing(function($exception)
	{
		return Response::view('errors.missing', array(), 404);
	});

<a name="logging"></a>
## Καταγραφή

Οι διευκολύνσεις καταγραφής του Laravel παρέχουν ένα απλό επίπεδο στην κορυφή της πανίσχυρης βιβλιοθήκης [Monolog](http://github.com/seldaek/monolog). Από προεπιλογή, το Laravel είναι διαμορφωμένο να δημιουργεί ένα απλό αρχείο καταγραφής για την εφαρμογή σας, το οποίο είναι αποθηκευμένο στο `app/storage/laravel.log`. Μπορείτε να γράψετε πληροφορίες στο αρχείο καταγραφής όπως παρακάτω:

	Log::info('This is some useful information.');

	Log::warning('Something could be going wrong.');

	Log::error('Something is really going wrong.');

Το καταγραφικό παρέχει τα 7 επίπεδα καταγραφής που ορίζονται στο [RFC 5424](http://tools.ietf.org/html/rfc5424): **debug**, **info**, **notice**, **warning**, **error**, **critical**, και **alert**.

Επίσης ένας πίνακας συναφών πληροφοριών μπορεί να περαστεί σαν όρισμα στις μεθόδους καταγραφής:

	Log::info('Log message', array('context' => 'Other helpful information'));

Η Monolog, έχει μια πληθώρα επιπρόσθετων χειριστών που μπορεί να χρειαστείτε για τη διαδικασία καταγραφής. Αν χρειαστεί μπορείτε να χρησιμοποιήσετε το στιγμιότυπο Monolog το οποίο χρησιμοποιείται από το Laravel:

	$monolog = Log::getMonolog();

Μπορείτε επίσης να γράψετε ένα γεγονός(event) ώστε να αλλιεύετε όλα τα μηνύματα που περνάνε στο αρχείο καταγραφής:

#### Δημιουργώντας έναν 'ακροατή' καταγραφών

	Log::listen(function($level, $message, $context)
	{
		//
	});
